<!DOCTYPE html>
<html>
  <head>
    <title>Experiment</title>

    <!-- Core imports -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/4c36b8d9f2.js" crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>

    <!-- jsPsych files -->
    <script src="../jspsych-6.1.0/jspsych.js"></script>
    <script src="../jspsych-6.1.0/plugins/jspsych-html-button-response.js"></script>
    <script src="../jspsych-6.1.0/plugins/jspsych-html-slider-response.js"></script>
    <script src="../jspsych-6.1.0/plugins/jspsych-survey-text.js"></script>
    <script src="../jspsych-6.1.0/plugins/jspsych-survey-multi-choice.js"></script>
    <script src="../jspsych-6.1.0/plugins/jspsych-instructions.js"></script>
    <script src="../jspsych-6.1.0/plugins/jspsych-external-html.js"></script>

    <!-- Towers files -->
    <script src="../js/towers/building_widget/dist/blockConfig.js"></script>
    <script src="../js/towers/building_widget/dist/blockDisplay.js"></script>
    <script src="../js/towers/jspsych-build-interface-familiarization.js"></script>
    <script src="../js/lax_shared/jspsych-category-familiarization.js"></script> 
    <script src="../js/towers/jspsych-tower-part-highlighting.js"></script>

    <!-- LAX files -->
    <script src="../js/lax_shared/consent.js" type="text/javascript"></script>
    <script src="../js/lax_shared/experimentUtils.js" type="text/javascript"></script>
    <script src="../js/lax_shared/experimentSetup.js" type="text/javascript"></script>
    

    <link rel="stylesheet" href="../jspsych-6.1.0/css/jspsych.css"></link>
    <link rel="stylesheet" href="../css/bootstrap.css"></link>
    <link rel="stylesheet" href="../css/experiment-shared.css"></link>
  </head>
  <body style="background-color:rgb(240, 240, 240);"></body>

    <script>
      // window.onload = function() {
      //   setupExperiment();
      // };

      window.experimentFinished = false;
      setupExperiment();

      window.addEventListener('beforeunload', function (e) {
        if (!window.experimentFinished) {
          // If you prevent default behavior in Mozilla Firefox prompt will always be shown
          e.preventDefault();
          // Chrome requires returnValue to be set
          e.returnValue = '';
        }
      });

    </script>
</html>
